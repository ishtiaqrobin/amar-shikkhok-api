# AmarShikkhok - рж╕ржорзНржкрзВрж░рзНржг ржУржпрж╝рж╛рж░рзНржХржлрзНрж▓рзЛ ржПржмржВ рж╕рж┐рж╕рзНржЯрзЗржо ржбржХрзБржорзЗржирзНржЯрзЗрж╢ржи

> **Implementation Status:** тЬЕ Backend Complete (95%)  
> **Last Updated:** 2026-01-30  
> **Note:** ржПржЗ document ржЕржирзБржпрж╛ржпрж╝рзА рж╕ржм API endpoints implement ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ ржПржмржВ production-readyред

## ЁЯУЛ ржкрзНрж░ржЬрзЗржХрзНржЯ ржУржнрж╛рж░ржнрж┐ржЙ

**AmarShikkhok** ржПржХржЯрж┐ ржлрзБрж▓-рж╕рзНржЯрзНржпрж╛ржХ ржУржпрж╝рзЗржм ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи ржпрзЗржЦрж╛ржирзЗ рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзАрж░рж╛ ржЯрж┐ржЙржЯрж░ ржЦрзБржБржЬрзЗ ржкрж╛ржмрзЗ ржПржмржВ рж╕рзЗрж╢ржи ржмрзБржХ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗред ржЯрж┐ржЙржЯрж░рж░рж╛ рждрж╛ржжрзЗрж░ ржкрзНрж░рзЛржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░ржмрзЗ ржПржмржВ рж╕ржоржпрж╝ рж╕рзЗржЯ ржХрж░ржмрзЗред ржЕрзНржпрж╛ржбржорж┐ржирж░рж╛ ржкрзБрж░рзЛ ржкрзНрж▓рзНржпрж╛ржЯржлрж░рзНржо ржорзНржпрж╛ржирзЗржЬ ржХрж░ржмрзЗред

---

## ЁЯОн Roles & Permissions (ржнрзВржорж┐ржХрж╛ ржПржмржВ ржЕржирзБржорждрж┐)

### 1. **Student (рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзА)**

**ржХрж┐ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ:**

- тЬЕ ржЯрж┐ржЙржЯрж░ ржмрзНрж░рж╛ржЙржЬ ржПржмржВ рж╕рж╛рж░рзНржЪ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ
- тЬЕ ржЯрж┐ржЙржЯрж░ ржкрзНрж░рзЛржлрж╛ржЗрж▓ ржжрзЗржЦрждрзЗ ржкрж╛рж░ржмрзЗ
- тЬЕ рж╕рзЗрж╢ржи ржмрзБржХ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ
- тЬЕ ржмрзБржХрж┐ржВ рж╣рж┐рж╕рзНржЯрзНрж░рж┐ ржжрзЗржЦрждрзЗ ржкрж╛рж░ржмрзЗ
- тЬЕ рж╕рзЗрж╢ржирзЗрж░ ржкрж░ рж░рж┐ржнрж┐ржЙ ржжрж┐рждрзЗ ржкрж╛рж░ржмрзЗ
- тЬЕ ржирж┐ржЬрзЗрж░ ржкрзНрж░рзЛржлрж╛ржЗрж▓ ржЖржкржбрзЗржЯ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ

**ржХрж┐ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ ржирж╛:**

- тЭМ ржЯрж┐ржЙржЯрж░ ржкрзНрж░рзЛржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ ржирж╛
- тЭМ ржЕржирзНржп ржЗржЙржЬрж╛рж░ ржорзНржпрж╛ржирзЗржЬ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ ржирж╛
- тЭМ ржХрзНржпрж╛ржЯрж╛ржЧрж░рж┐ рждрзИрж░рж┐/ржорзБржЫрждрзЗ ржкрж╛рж░ржмрзЗ ржирж╛

### 2. **Tutor (рж╢рж┐ржХрзНрж╖ржХ)**

**ржХрж┐ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ:**

- тЬЕ ржЯрж┐ржЙржЯрж░ ржкрзНрж░рзЛржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржПржмржВ ржЖржкржбрзЗржЯ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ
- тЬЕ ржмрж┐рж╖ржпрж╝ (subjects) ржпрзЛржЧ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ
- тЬЕ рж╕ржоржпрж╝рж╕рзВржЪрзА (availability) рж╕рзЗржЯ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ
- тЬЕ ржирж┐ржЬрзЗрж░ ржмрзБржХрж┐ржВ рж▓рж┐рж╕рзНржЯ ржжрзЗржЦрждрзЗ ржкрж╛рж░ржмрзЗ
- тЬЕ рж╕рзЗрж╢ржи ржХржоржкрзНрж▓рж┐ржЯ ржорж╛рж░рзНржХ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ
- тЬЕ рж░рж┐ржнрж┐ржЙ ржжрзЗржЦрждрзЗ ржкрж╛рж░ржмрзЗ
- тЬЕ ржирж┐ржЬрзЗрж░ ржкрзНрж░рзЛржлрж╛ржЗрж▓ ржЖржкржбрзЗржЯ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ

**ржХрж┐ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ ржирж╛:**

- тЭМ рж╕рзЗрж╢ржи ржмрзБржХ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ ржирж╛ (рж╢рзБржзрзБ рж░рж┐рж╕рж┐ржн ржХрж░ржмрзЗ)
- тЭМ ржЕржирзНржп ржЯрж┐ржЙржЯрж░рзЗрж░ ржкрзНрж░рзЛржлрж╛ржЗрж▓ ржПржбрж┐ржЯ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ ржирж╛
- тЭМ ржЗржЙржЬрж╛рж░ ржмрзНржпрж╛ржи/ржЖржиржмрзНржпрж╛ржи ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ ржирж╛

### 3. **Admin (ржкрзНрж░рж╢рж╛рж╕ржХ)**

**ржХрж┐ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ:**

- тЬЕ рж╕ржм ржЗржЙржЬрж╛рж░ ржжрзЗржЦрждрзЗ ржкрж╛рж░ржмрзЗ (Student + Tutor)
- тЬЕ ржЗржЙржЬрж╛рж░ ржмрзНржпрж╛ржи/ржЖржиржмрзНржпрж╛ржи ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ
- тЬЕ рж╕ржм ржмрзБржХрж┐ржВ ржжрзЗржЦрждрзЗ ржкрж╛рж░ржмрзЗ
- тЬЕ ржХрзНржпрж╛ржЯрж╛ржЧрж░рж┐ рждрзИрж░рж┐/ржЖржкржбрзЗржЯ/ржорзБржЫрждрзЗ ржкрж╛рж░ржмрзЗ
- тЬЕ ржкрзНрж▓рзНржпрж╛ржЯржлрж░рзНржо рж╕рзНржЯрзНржпрж╛ржЯрж┐рж╕рзНржЯрж┐ржХрзНрж╕ ржжрзЗржЦрждрзЗ ржкрж╛рж░ржмрзЗ

**ржХрж┐ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ ржирж╛:**

- тЭМ рж╕рж░рж╛рж╕рж░рж┐ ржмрзБржХрж┐ржВ ржХрзНржпрж╛ржирзНрж╕рзЗрж▓ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ ржирж╛ (рж╢рзБржзрзБ ржжрзЗржЦрждрзЗ ржкрж╛рж░ржмрзЗ)

---

## ЁЯЧВя╕П Database Schema (Prisma)

### **User Table**

```prisma
model User {
  id            String    @id @default(uuid())
  email         String    @unique
  password      String    // hashed password
  name          String
  role          Role      @default(STUDENT)
  profileImage  String?
  phone         String?
  isActive      Boolean   @default(true)
  isBanned      Boolean   @default(false)
  createdAt     DateTime  @default(now())
  updatedAt     DateTime  @updatedAt

  // Relations
  tutorProfile  TutorProfile?
  bookings      Booking[]     @relation("StudentBookings")
  reviews       Review[]

  @@map("users")
}

enum Role {
  STUDENT
  TUTOR
  ADMIN
}
```

### **TutorProfile Table**

```prisma
model TutorProfile {
  id              String    @id @default(uuid())
  userId          String    @unique
  bio             String?   @db.Text
  expertise       String[]  // Array of subjects
  hourlyRate      Float
  experience      Int       // years of experience
  education       String?
  rating          Float     @default(0)
  totalReviews    Int       @default(0)
  totalSessions   Int       @default(0)
  createdAt       DateTime  @default(now())
  updatedAt       DateTime  @updatedAt

  // Relations
  user            User         @relation(fields: [userId], references: [id], onDelete: Cascade)
  categories      Category[]
  availabilities  Availability[]
  bookings        Booking[]    @relation("TutorBookings")
  reviews         Review[]

  @@map("tutor_profiles")
}
```

### **Category Table**

```prisma
model Category {
  id          String    @id @default(uuid())
  name        String    @unique
  description String?
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt

  // Relations
  tutors      TutorProfile[]

  @@map("categories")
}
```

### **Availability Table**

```prisma
model Availability {
  id            String    @id @default(uuid())
  tutorId       String
  dayOfWeek     Int       // 0=Sunday, 1=Monday, ..., 6=Saturday
  startTime     String    // Format: "09:00"
  endTime       String    // Format: "17:00"
  isAvailable   Boolean   @default(true)
  createdAt     DateTime  @default(now())
  updatedAt     DateTime  @updatedAt

  // Relations
  tutor         TutorProfile @relation(fields: [tutorId], references: [id], onDelete: Cascade)

  @@map("availabilities")
}
```

### **Booking Table**

```prisma
model Booking {
  id            String        @id @default(uuid())
  studentId     String
  tutorId       String
  subject       String
  sessionDate   DateTime
  startTime     String        // Format: "10:00"
  endTime       String        // Format: "11:00"
  status        BookingStatus @default(CONFIRMED)
  notes         String?       @db.Text
  totalPrice    Float
  createdAt     DateTime      @default(now())
  updatedAt     DateTime      @updatedAt

  // Relations
  student       User          @relation("StudentBookings", fields: [studentId], references: [id], onDelete: Cascade)
  tutor         TutorProfile  @relation("TutorBookings", fields: [tutorId], references: [id], onDelete: Cascade)
  review        Review?

  @@map("bookings")
}

enum BookingStatus {
  CONFIRMED
  COMPLETED
  CANCELLED
}
```

### **Review Table**

```prisma
model Review {
  id          String    @id @default(uuid())
  bookingId   String    @unique
  studentId   String
  tutorId     String
  rating      Int       // 1-5
  comment     String?   @db.Text
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt

  // Relations
  booking     Booking       @relation(fields: [bookingId], references: [id], onDelete: Cascade)
  student     User          @relation(fields: [studentId], references: [id], onDelete: Cascade)
  tutor       TutorProfile  @relation(fields: [tutorId], references: [id], onDelete: Cascade)

  @@map("reviews")
}
```

---

## ЁЯУК Database System ржмрзНржпрж╛ржЦрзНржпрж╛

### **рж╕ржорзНржкрж░рзНржХ (Relations):**

1. **User тЖФ TutorProfile**: One-to-One
   - ржПржХржЬржи User рж╢рзБржзрзБржорж╛рждрзНрж░ ржПржХржЯрж┐ TutorProfile рждрзИрж░рж┐ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ
   - TutorProfile ржЫрж╛ржбрж╝рж╛ржЗ User ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗ (ржпржжрж┐ рж╕рзЗ Student рж╣ржпрж╝)

2. **TutorProfile тЖФ Category**: Many-to-Many
   - ржПржХржЬржи Tutor ржЕржирзЗржХ Category рждрзЗ ржкржбрж╝рж╛рждрзЗ ржкрж╛рж░ржмрзЗ
   - ржПржХржЯрж┐ Category рждрзЗ ржЕржирзЗржХ Tutor ржерж╛ржХрждрзЗ ржкрж╛рж░ржмрзЗ

3. **TutorProfile тЖФ Availability**: One-to-Many
   - ржПржХржЬржи Tutor ржПрж░ ржЕржирзЗржХ Availability slot ржерж╛ржХрждрзЗ ржкрж╛рж░ржмрзЗ

4. **User тЖФ Booking**: One-to-Many (Student рж╣рж┐рж╕рзЗржмрзЗ)
   - ржПржХржЬржи Student ржЕржирзЗржХ Booking ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ

5. **TutorProfile тЖФ Booking**: One-to-Many
   - ржПржХржЬржи Tutor ржЕржирзЗржХ Booking рж░рж┐рж╕рж┐ржн ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ

6. **Booking тЖФ Review**: One-to-One
   - ржПржХржЯрж┐ Booking ржПрж░ ржЬржирзНржп рж╢рзБржзрзБржорж╛рждрзНрж░ ржПржХржЯрж┐ Review ржжрзЗржУржпрж╝рж╛ ржпрж╛ржмрзЗ

---

## ЁЯУБ Folder & File Structure

```
Backend/
тФВ
тФЬтФАтФА prisma/
тФВ   тФЬтФАтФА schema.prisma          # Database schema
тФВ   тФФтФАтФА seed.ts                # Seed data (admin, categories)
тФВ
тФЬтФАтФА src/
тФВ   тФЬтФАтФА config/
тФВ   тФВ   тФЬтФАтФА database.ts        # Prisma client instance
тФВ   тФВ   тФФтФАтФА env.ts             # Environment variables
тФВ   тФВ
тФВ   тФЬтФАтФА middlewares/
тФВ   тФВ   тФЬтФАтФА auth.middleware.ts      # JWT verification
тФВ   тФВ   тФЬтФАтФА role.middleware.ts      # Role-based access control
тФВ   тФВ   тФЬтФАтФА error.middleware.ts     # Global error handler
тФВ   тФВ   тФФтФАтФА validate.middleware.ts  # Request validation
тФВ   тФВ
тФВ   тФЬтФАтФА modules/
тФВ   тФВ   тФЬтФАтФА auth/
тФВ   тФВ   тФВ   тФЬтФАтФА auth.controller.ts
тФВ   тФВ   тФВ   тФЬтФАтФА auth.service.ts
тФВ   тФВ   тФВ   тФЬтФАтФА auth.route.ts
тФВ   тФВ   тФВ   тФЬтФАтФА auth.validation.ts
тФВ   тФВ   тФВ   тФФтФАтФА auth.interface.ts
тФВ   тФВ   тФВ
тФВ   тФВ   тФЬтФАтФА user/
тФВ   тФВ   тФВ   тФЬтФАтФА user.controller.ts
тФВ   тФВ   тФВ   тФЬтФАтФА user.service.ts
тФВ   тФВ   тФВ   тФЬтФАтФА user.route.ts
тФВ   тФВ   тФВ   тФЬтФАтФА user.validation.ts
тФВ   тФВ   тФВ   тФФтФАтФА user.interface.ts
тФВ   тФВ   тФВ
тФВ   тФВ   тФЬтФАтФА tutor/
тФВ   тФВ   тФВ   тФЬтФАтФА tutor.controller.ts
тФВ   тФВ   тФВ   тФЬтФАтФА tutor.service.ts
тФВ   тФВ   тФВ   тФЬтФАтФА tutor.route.ts
тФВ   тФВ   тФВ   тФЬтФАтФА tutor.validation.ts
тФВ   тФВ   тФВ   тФФтФАтФА tutor.interface.ts
тФВ   тФВ   тФВ
тФВ   тФВ   тФЬтФАтФА category/
тФВ   тФВ   тФВ   тФЬтФАтФА category.controller.ts
тФВ   тФВ   тФВ   тФЬтФАтФА category.service.ts
тФВ   тФВ   тФВ   тФЬтФАтФА category.route.ts
тФВ   тФВ   тФВ   тФЬтФАтФА category.validation.ts
тФВ   тФВ   тФВ   тФФтФАтФА category.interface.ts
тФВ   тФВ   тФВ
тФВ   тФВ   тФЬтФАтФА booking/
тФВ   тФВ   тФВ   тФЬтФАтФА booking.controller.ts
тФВ   тФВ   тФВ   тФЬтФАтФА booking.service.ts
тФВ   тФВ   тФВ   тФЬтФАтФА booking.route.ts
тФВ   тФВ   тФВ   тФЬтФАтФА booking.validation.ts
тФВ   тФВ   тФВ   тФФтФАтФА booking.interface.ts
тФВ   тФВ   тФВ
тФВ   тФВ   тФЬтФАтФА review/
тФВ   тФВ   тФВ   тФЬтФАтФА review.controller.ts
тФВ   тФВ   тФВ   тФЬтФАтФА review.service.ts
тФВ   тФВ   тФВ   тФЬтФАтФА review.route.ts
тФВ   тФВ   тФВ   тФЬтФАтФА review.validation.ts
тФВ   тФВ   тФВ   тФФтФАтФА review.interface.ts
тФВ   тФВ   тФВ
тФВ   тФВ   тФФтФАтФА admin/
тФВ   тФВ       тФЬтФАтФА admin.controller.ts
тФВ   тФВ       тФЬтФАтФА admin.service.ts
тФВ   тФВ       тФЬтФАтФА admin.route.ts
тФВ   тФВ       тФЬтФАтФА admin.validation.ts
тФВ   тФВ       тФФтФАтФА admin.interface.ts
тФВ   тФВ
тФВ   тФЬтФАтФА utils/
тФВ   тФВ   тФЬтФАтФА bcrypt.ts          # Password hashing
тФВ   тФВ   тФЬтФАтФА jwt.ts             # JWT token generation/verification
тФВ   тФВ   тФЬтФАтФА response.ts        # Standard API response
тФВ   тФВ   тФФтФАтФА asyncHandler.ts    # Async error wrapper
тФВ   тФВ
тФВ   тФЬтФАтФА types/
тФВ   тФВ   тФЬтФАтФА express.d.ts       # Express type extensions
тФВ   тФВ   тФФтФАтФА common.ts          # Common types
тФВ   тФВ
тФВ   тФЬтФАтФА app.ts                 # Express app setup
тФВ   тФФтФАтФА server.ts              # Server entry point
тФВ
тФЬтФАтФА .env                       # Environment variables
тФЬтФАтФА .env.example               # Example env file
тФЬтФАтФА .gitignore
тФЬтФАтФА package.json
тФЬтФАтФА tsconfig.json
тФФтФАтФА README.md
```

---

## ЁЯФР API Endpoints ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд

### **1. Authentication APIs (Better Auth)**

#### `POST /api/auth/sign-up/email`

**ржХрж╛ржЬ:** ржирждрзБржи ржЗржЙржЬрж╛рж░ рж░рзЗржЬрж┐рж╕рзНржЯрж╛рж░ ржХрж░рж╛  
**Headers:** `Content-Type: application/json`  
**Body:**

```json
{
  "name": "John Doe",
  "email": "john@example.com",
  "password": "password123",
  "role": "STUDENT", // or "TUTOR" or "ADMIN"
  "phone": "01700000000"
}
```

**Response (200):**

```json
{
  "user": {
    "id": "uuid",
    "name": "John Doe",
    "email": "john@example.com",
    "role": "STUDENT",
    "isActive": true,
    "isBanned": false,
    "createdAt": "2026-01-30T10:00:00Z"
  },
  "session": {
    "token": "jwt_token_here",
    "expiresAt": "2026-02-06T10:00:00Z"
  }
}
```

#### `POST /api/auth/sign-in/email`

**ржХрж╛ржЬ:** ржЗржЙржЬрж╛рж░ рж▓ржЧржЗржи ржХрж░рж╛  
**Headers:** `Content-Type: application/json`  
**Body:**

```json
{
  "email": "john@example.com",
  "password": "password123"
}
```

**Response (200):**

```json
{
  "user": {
    "id": "uuid",
    "name": "John Doe",
    "email": "john@example.com",
    "role": "STUDENT"
  },
  "session": {
    "token": "jwt_token_here"
  }
}
```

#### `POST /api/auth/sign-out`

**ржХрж╛ржЬ:** ржЗржЙржЬрж╛рж░ рж▓ржЧржЖржЙржЯ ржХрж░рж╛  
**Headers:** `Authorization: Bearer <token>`

---

### **2. User APIs (Private)**

#### `GET /api/users/me`

**ржХрж╛ржЬ:** ржмрж░рзНрждржорж╛ржи рж▓ржЧржЗржи ржЗржЙржЬрж╛рж░рзЗрж░ ржкрзНрж░рзЛржлрж╛ржЗрж▓ ржжрзЗржЦрж╛  
**Headers:** `Authorization: Bearer <token>`  
**Response (200):**

```json
{
  "success": true,
  "message": "User profile retrieved successfully",
  "data": {
    "id": "uuid",
    "name": "John Doe",
    "email": "john@example.com",
    "role": "STUDENT",
    "phone": "01700000000",
    "image": "https://...",
    "isActive": true,
    "isBanned": false,
    "createdAt": "2026-01-30T10:00:00Z"
  }
}
```

#### `PUT /api/users/profile`

**ржХрж╛ржЬ:** ржЗржЙржЬрж╛рж░ ржкрзНрж░рзЛржлрж╛ржЗрж▓ ржЖржкржбрзЗржЯ ржХрж░рж╛  
**Headers:** `Authorization: Bearer <token>`  
**Body:**

```json
{
  "name": "John Updated",
  "phone": "01800000000",
  "image": "https://..."
}
```

**Response (200):**

```json
{
  "success": true,
  "message": "User profile updated successfully",
  "data": {
    "id": "uuid",
    "name": "John Updated",
    "email": "john@example.com",
    "phone": "01800000000",
    "image": "https://..."
  }
}
```

---

### **3. Tutor APIs (Public)**

#### `GET /api/tutors`

**ржХрж╛ржЬ:** рж╕ржм ржЯрж┐ржЙржЯрж░ рж▓рж┐рж╕рзНржЯ ржкрж╛ржУржпрж╝рж╛ (ржлрж┐рж▓рзНржЯрж╛рж░ рж╕рж╣)  
**Query Parameters:**

- `search` - ржирж╛ржо/ржЗржорзЗржЗрж▓/ID ржжрж┐ржпрж╝рзЗ рж╕рж╛рж░рзНржЪ
- `category` - ржХрзНржпрж╛ржЯрж╛ржЧрж░рж┐ ID ржжрж┐ржпрж╝рзЗ ржлрж┐рж▓рзНржЯрж╛рж░
- `minPrice` - ржорж┐ржирж┐ржорж╛ржо hourly rate
- `maxPrice` - ржорзНржпрж╛ржХрзНрж╕рж┐ржорж╛ржо hourly rate
- `rating` - ржорж┐ржирж┐ржорж╛ржо рж░рзЗржЯрж┐ржВ (1-5)

**Example:** `/api/tutors?category=uuid&minPrice=500&maxPrice=2000&rating=4`

**Response (200):**

```json
{
  "success": true,
  "message": "Tutors fetched successfully",
  "data": [
    {
      "id": "tutor_uuid",
      "userId": "user_uuid",
      "user": {
        "name": "Dr. Ahmed",
        "email": "ahmed@example.com",
        "image": "https://..."
      },
      "bio": "Experienced Mathematics tutor",
      "expertise": ["Calculus", "Algebra"],
      "hourlyRate": 1200,
      "experience": 5,
      "education": "PhD in Mathematics",
      "rating": 4.8,
      "totalReviews": 45,
      "totalSessions": 120,
      "categories": [
        {
          "id": "cat_uuid",
          "name": "Mathematics"
        }
      ],
      "availability": [
        {
          "dayOfWeek": 1,
          "startTime": "09:00",
          "endTime": "17:00",
          "isAvailable": true
        }
      ]
    }
  ]
}
```

#### `GET /api/tutors/:id`

**ржХрж╛ржЬ:** ржПржХржЬржи ржЯрж┐ржЙржЯрж░рзЗрж░ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд рждржерзНржп  
**Response (200):**

```json
{
  "success": true,
  "message": "Tutor fetched successfully",
  "data": {
    "id": "tutor_uuid",
    "user": {
      "name": "Dr. Ahmed",
      "email": "ahmed@example.com",
      "image": "https://..."
    },
    "bio": "Experienced Mathematics tutor",
    "expertise": ["Calculus", "Algebra"],
    "hourlyRate": 1200,
    "experience": 5,
    "education": "PhD in Mathematics",
    "rating": 4.8,
    "totalReviews": 45,
    "totalSessions": 120,
    "categories": [...],
    "availability": [...],
    "reviews": [
      {
        "id": "review_uuid",
        "rating": 5,
        "comment": "Excellent tutor!",
        "student": {
          "name": "John Doe"
        },
        "createdAt": "2026-01-25T10:00:00Z"
      }
    ]
  }
}
```

---

### **4. Tutor Management APIs (Private - Tutor Only)**

#### `PUT /api/tutor/profile`

**ржХрж╛ржЬ:** ржЯрж┐ржЙржЯрж░ ржкрзНрж░рзЛржлрж╛ржЗрж▓ рждрзИрж░рж┐/ржЖржкржбрзЗржЯ ржХрж░рж╛  
**Headers:** `Authorization: Bearer <token>`  
**Body:**

```json
{
  "bio": "Experienced Math tutor with 5 years experience",
  "expertise": ["Calculus", "Algebra", "Statistics"],
  "hourlyRate": 1200,
  "experience": 5,
  "education": "MSc in Mathematics",
  "categoryIds": ["cat_uuid_1", "cat_uuid_2"]
}
```

**Response (201):**

```json
{
  "success": true,
  "message": "Tutor created successfully",
  "data": {
    "id": "tutor_uuid",
    "userId": "user_uuid",
    "bio": "Experienced Math tutor...",
    "expertise": ["Calculus", "Algebra", "Statistics"],
    "hourlyRate": 1200,
    "experience": 5,
    "education": "MSc in Mathematics",
    "rating": 0,
    "totalReviews": 0,
    "totalSessions": 0
  }
}
```

#### `POST /api/tutor/availability`

**ржХрж╛ржЬ:** ржирждрзБржи рж╕ржоржпрж╝рж╕рзВржЪрзА ржпрзЛржЧ ржХрж░рж╛  
**Headers:** `Authorization: Bearer <token>`  
**Body:**

```json
{
  "dayOfWeek": 1, // 0=Sunday, 1=Monday, ..., 6=Saturday
  "startTime": "09:00",
  "endTime": "17:00"
}
```

**Response (201):**

```json
{
  "success": true,
  "message": "Availability added successfully",
  "data": {
    "id": "avail_uuid",
    "tutorId": "tutor_uuid",
    "dayOfWeek": 1,
    "startTime": "09:00",
    "endTime": "17:00",
    "isAvailable": true
  }
}
```

#### `PUT /api/tutor/availability`

**ржХрж╛ржЬ:** ржмрж┐ржжрзНржпржорж╛ржи рж╕ржоржпрж╝рж╕рзВржЪрзА ржЖржкржбрзЗржЯ ржХрж░рж╛  
**Headers:** `Authorization: Bearer <token>`  
**Body:**

```json
{
  "dayOfWeek": 1,
  "startTime": "10:00",
  "endTime": "18:00",
  "isAvailable": true
}
```

**Response (200):**

```json
{
  "success": true,
  "message": "Availability updated successfully",
  "data": {
    "id": "avail_uuid",
    "dayOfWeek": 1,
    "startTime": "10:00",
    "endTime": "18:00",
    "isAvailable": true
  }
}
```

#### `GET /api/tutor/bookings`

**ржХрж╛ржЬ:** ржЯрж┐ржЙржЯрж░рзЗрж░ рж╕ржм ржмрзБржХрж┐ржВ ржжрзЗржЦрж╛  
**Headers:** `Authorization: Bearer <token>`  
**Query:** `?status=CONFIRMED` (optional: CONFIRMED, COMPLETED, CANCELLED)

**Response (200):**

```json
{
  "success": true,
  "message": "Bookings fetched successfully",
  "data": [
    {
      "id": "booking_uuid",
      "studentId": "student_uuid",
      "student": {
        "name": "John Doe",
        "email": "john@example.com"
      },
      "subject": "Mathematics",
      "sessionDate": "2026-02-01T00:00:00Z",
      "startTime": "10:00",
      "endTime": "11:00",
      "status": "CONFIRMED",
      "totalPrice": 1200,
      "notes": "Need help with calculus",
      "createdAt": "2026-01-30T10:00:00Z"
    }
  ]
}
```

---

### **5. Booking APIs**

#### `POST /api/bookings`

**ржХрж╛ржЬ:** ржирждрзБржи ржмрзБржХрж┐ржВ рждрзИрж░рж┐ ржХрж░рж╛ (Student Only)  
**Headers:** `Authorization: Bearer <token>`  
**Body:**

```json
{
  "tutorId": "tutor_uuid",
  "subject": "Mathematics",
  "sessionDate": "2026-02-01T00:00:00Z",
  "startTime": "10:00",
  "endTime": "11:00",
  "notes": "Need help with calculus"
}
```

**Validations:**

- тЬЕ Tutor must exist
- тЬЕ Session date must be in future
- тЬЕ Tutor must be available on that day/time
- тЬЕ No duplicate booking (same student, tutor, date, time)
- тЬЕ Auto-calculates price based on hourly rate and duration

**Response (201):**

```json
{
  "success": true,
  "message": "Booking created successfully",
  "data": {
    "id": "booking_uuid",
    "studentId": "student_uuid",
    "tutorId": "tutor_uuid",
    "subject": "Mathematics",
    "sessionDate": "2026-02-01T00:00:00Z",
    "startTime": "10:00",
    "endTime": "11:00",
    "status": "CONFIRMED",
    "totalPrice": 1200,
    "notes": "Need help with calculus",
    "createdAt": "2026-01-30T10:00:00Z"
  }
}
```

#### `GET /api/bookings`

**ржХрж╛ржЬ:** ржЗржЙржЬрж╛рж░рзЗрж░ рж╕ржм ржмрзБржХрж┐ржВ ржжрзЗржЦрж╛ (Student: рждрж╛рж░ bookings, Tutor: рждрж╛рж░ received bookings)  
**Headers:** `Authorization: Bearer <token>`  
**Query:** `?status=CONFIRMED` (optional)

**Response (200):**

```json
{
  "success": true,
  "message": "Bookings retrieved successfully",
  "data": [
    {
      "id": "booking_uuid",
      "tutorId": "tutor_uuid",
      "tutor": {
        "id": "tutor_uuid",
        "user": {
          "name": "Dr. Ahmed",
          "image": "https://..."
        },
        "hourlyRate": 1200
      },
      "subject": "Mathematics",
      "sessionDate": "2026-02-01T00:00:00Z",
      "startTime": "10:00",
      "endTime": "11:00",
      "status": "CONFIRMED",
      "totalPrice": 1200
    }
  ]
}
```

#### `GET /api/bookings/:id`

**ржХрж╛ржЬ:** ржПржХржЯрж┐ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржмрзБржХрж┐ржВ ржПрж░ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд рждржерзНржп ржжрзЗржЦрж╛  
**Headers:** `Authorization: Bearer <token>`

**Response (200):**

```json
{
  "success": true,
  "message": "Booking retrieved successfully",
  "data": {
    "id": "booking_uuid",
    "student": {
      "name": "John Doe",
      "email": "john@example.com"
    },
    "tutor": {
      "id": "tutor_uuid",
      "name": "Dr. Ahmed",
      "image": "https://...",
      "hourlyRate": 1200
    },
    "subject": "Mathematics",
    "sessionDate": "2026-02-01T00:00:00Z",
    "startTime": "10:00",
    "endTime": "11:00",
    "status": "CONFIRMED",
    "totalPrice": 1200,
    "notes": "Need help with calculus",
    "createdAt": "2026-01-30T10:00:00Z"
  }
}
```

#### `PATCH /api/bookings/:id/complete`

**ржХрж╛ржЬ:** ржмрзБржХрж┐ржВ ржХржоржкрзНрж▓рж┐ржЯ ржорж╛рж░рзНржХ ржХрж░рж╛ (Tutor Only)  
**Headers:** `Authorization: Bearer <token>`

**Response (200):**

```json
{
  "success": true,
  "message": "Booking completed successfully",
  "data": {
    "id": "booking_uuid",
    "status": "COMPLETED",
    "updatedAt": "2026-02-01T12:00:00Z"
  }
}
```

#### `PATCH /api/bookings/:id/cancel`

**ржХрж╛ржЬ:** ржмрзБржХрж┐ржВ ржХрзНржпрж╛ржирзНрж╕рзЗрж▓ ржХрж░рж╛ (Student Only)  
**Headers:** `Authorization: Bearer <token>`

**Response (200):**

```json
{
  "success": true,
  "message": "Booking cancelled successfully",
  "data": {
    "id": "booking_uuid",
    "status": "CANCELLED",
    "updatedAt": "2026-01-31T10:00:00Z"
  }
}
```

---

### **6. Review APIs**

#### `POST /api/reviews`

**ржХрж╛ржЬ:** рж░рж┐ржнрж┐ржЙ ржжрзЗржУржпрж╝рж╛ (Student Only, рж╢рзБржзрзБ COMPLETED booking ржПрж░ ржЬржирзНржп)  
**Headers:** `Authorization: Bearer <token>`  
**Body:**

```json
{
  "bookingId": "booking_uuid",
  "rating": 5, // 1-5
  "comment": "Excellent tutor! Very helpful and patient."
}
```

**Validations:**

- тЬЕ Booking must exist and belong to student
- тЬЕ Booking status must be COMPLETED
- тЬЕ No duplicate review for same booking

**Response (201):**

```json
{
  "success": true,
  "message": "Review created successfully",
  "data": {
    "id": "review_uuid",
    "bookingId": "booking_uuid",
    "studentId": "student_uuid",
    "tutorId": "tutor_uuid",
    "rating": 5,
    "comment": "Excellent tutor! Very helpful and patient.",
    "createdAt": "2026-02-02T10:00:00Z"
  }
}
```

**Note:** ржЯрж┐ржЙржЯрж░рзЗрж░ rating ржПржмржВ totalReviews automatically update рж╣ржмрзЗред

#### `GET /api/reviews/tutor/:tutorId`

**ржХрж╛ржЬ:** ржПржХржЬржи ржЯрж┐ржЙржЯрж░рзЗрж░ рж╕ржм рж░рж┐ржнрж┐ржЙ ржжрзЗржЦрж╛ (Public)

**Response (200):**

```json
{
  "success": true,
  "message": "Reviews retrieved successfully",
  "data": [
    {
      "id": "review_uuid",
      "rating": 5,
      "comment": "Excellent tutor!",
      "student": {
        "name": "John Doe",
        "image": "https://..."
      },
      "createdAt": "2026-02-02T10:00:00Z"
    }
  ]
}
```

---

### **7. Category APIs**

#### `GET /api/categories`

**ржХрж╛ржЬ:** рж╕ржм ржХрзНржпрж╛ржЯрж╛ржЧрж░рж┐ рж▓рж┐рж╕рзНржЯ ржкрж╛ржУржпрж╝рж╛ (Public)

**Response (201):**

```json
{
  "success": true,
  "message": "Retrieved all categories successfully",
  "data": [
    {
      "id": "cat_uuid",
      "name": "Mathematics",
      "description": "Math tutoring services",
      "tutors": [
        {
          "id": "tutor_uuid",
          "user": {
            "name": "Dr. Ahmed"
          },
          "hourlyRate": 1200,
          "rating": 4.8
        }
      ],
      "createdAt": "2026-01-20T10:00:00Z"
    }
  ]
}
```

#### `POST /api/categories`

**ржХрж╛ржЬ:** ржирждрзБржи ржХрзНржпрж╛ржЯрж╛ржЧрж░рж┐ рждрзИрж░рж┐ ржХрж░рж╛ (Admin Only)  
**Headers:** `Authorization: Bearer <token>`  
**Body:**

```json
{
  "name": "Mathematics",
  "description": "Math tutoring services"
}
```

**Response (201):**

```json
{
  "success": true,
  "message": "Category created successfully",
  "data": {
    "id": "cat_uuid",
    "name": "Mathematics",
    "description": "Math tutoring services",
    "createdAt": "2026-01-30T10:00:00Z"
  }
}
```

#### `PUT /api/categories/:id`

**ржХрж╛ржЬ:** ржХрзНржпрж╛ржЯрж╛ржЧрж░рж┐ ржЖржкржбрзЗржЯ ржХрж░рж╛ (Admin Only)  
**Headers:** `Authorization: Bearer <token>`  
**Body:**

```json
{
  "name": "Advanced Mathematics",
  "description": "Advanced math tutoring"
}
```

**Response (201):**

```json
{
  "success": true,
  "message": "Category updated successfully",
  "data": {
    "id": "cat_uuid",
    "name": "Advanced Mathematics",
    "description": "Advanced math tutoring",
    "updatedAt": "2026-01-30T11:00:00Z"
  }
}
```

#### `DELETE /api/categories/:id`

**ржХрж╛ржЬ:** ржХрзНржпрж╛ржЯрж╛ржЧрж░рж┐ ржорзБржЫрзЗ ржлрзЗрж▓рж╛ (Admin Only)  
**Headers:** `Authorization: Bearer <token>`

**Response (201):**

```json
{
  "success": true,
  "message": "Category deleted successfully",
  "data": {
    "id": "cat_uuid"
  }
}
```

---

### **8. Admin APIs (Admin Only)**

#### `GET /api/admin/users`

**ржХрж╛ржЬ:** рж╕ржм ржЗржЙржЬрж╛рж░ ржжрзЗржЦрж╛ (Admin Only)  
**Headers:** `Authorization: Bearer <token>`  
**Query:** `?role=STUDENT` or `?role=TUTOR` (optional)

**Response (200):**

```json
{
  "success": true,
  "message": "Users retrieved successfully",
  "data": [
    {
      "id": "user_uuid",
      "name": "John Doe",
      "email": "john@example.com",
      "role": "STUDENT",
      "phone": "01700000000",
      "isActive": true,
      "isBanned": false,
      "createdAt": "2026-01-15T10:00:00Z"
    }
  ]
}
```

#### `PATCH /api/admin/users/:userId/ban`

**ржХрж╛ржЬ:** ржЗржЙржЬрж╛рж░ ржмрзНржпрж╛ржи ржХрж░рж╛ (Admin Only)  
**Headers:** `Authorization: Bearer <token>`

**Response (200):**

```json
{
  "success": true,
  "message": "User banned successfully",
  "data": {
    "id": "user_uuid",
    "isBanned": true,
    "updatedAt": "2026-01-30T10:00:00Z"
  }
}
```

#### `PATCH /api/admin/users/:userId/unban`

**ржХрж╛ржЬ:** ржЗржЙржЬрж╛рж░ ржЖржиржмрзНржпрж╛ржи ржХрж░рж╛ (Admin Only)  
**Headers:** `Authorization: Bearer <token>`

**Response (200):**

```json
{
  "success": true,
  "message": "User unbanned successfully",
  "data": {
    "id": "user_uuid",
    "isBanned": false,
    "updatedAt": "2026-01-30T10:00:00Z"
  }
}
```

#### `GET /api/admin/bookings`

**ржХрж╛ржЬ:** рж╕ржм ржмрзБржХрж┐ржВ ржжрзЗржЦрж╛ (Admin Only)  
**Headers:** `Authorization: Bearer <token>`

**Response (200):**

```json
{
  "success": true,
  "message": "Bookings retrieved successfully",
  "data": [
    {
      "id": "booking_uuid",
      "student": {
        "name": "John Doe",
        "email": "john@example.com"
      },
      "tutor": {
        "id": "tutor_uuid",
        "user": {
          "name": "Dr. Ahmed",
          "email": "ahmed@example.com"
        },
        "hourlyRate": 1200
      },
      "subject": "Mathematics",
      "sessionDate": "2026-02-01T00:00:00Z",
      "startTime": "10:00",
      "endTime": "11:00",
      "status": "CONFIRMED",
      "totalPrice": 1200,
      "createdAt": "2026-01-30T10:00:00Z"
    }
  ]
}
```

#### `GET /api/admin/stats`

**ржХрж╛ржЬ:** ржкрзНрж▓рзНржпрж╛ржЯржлрж░рзНржо ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб рж╕рзНржЯрзНржпрж╛ржЯрж┐рж╕рзНржЯрж┐ржХрзНрж╕ (Admin Only)  
**Headers:** `Authorization: Bearer <token>`

**Response (200):**

```json
{
  "success": true,
  "message": "Dashboard statistics retrieved successfully",
  "data": {
    "totalUsers": 150,
    "totalStudents": 100,
    "totalTutors": 45,
    "totalAdmins": 5,
    "totalTutorProfiles": 40,
    "availableTutors": 35,
    "totalBookings": 500,
    "confirmedBookings": 200,
    "completedBookings": 250,
    "cancelledBookings": 50,
    "totalReviews": 180,
    "totalRevenue": 600000
  }
}
```

---

### **9. Error Responses (рж╕ржм endpoints ржПрж░ ржЬржирзНржп)**

#### Validation Error (400)

```json
{
  "success": false,
  "message": "Validation failed",
  "statusCode": 400,
  "error": {
    "type": "ValidationError",
    "errors": [
      {
        "field": "email",
        "message": "Invalid email format"
      }
    ]
  }
}
```

#### Unauthorized (401)

```json
{
  "success": false,
  "message": "User not authenticated",
  "statusCode": 401
}
```

#### Forbidden (403)

```json
{
  "success": false,
  "message": "Access denied. Admin role required.",
  "statusCode": 403
}
```

#### Not Found (404)

```json
{
  "success": false,
  "message": "Record not found",
  "statusCode": 404,
  "error": {
    "code": "P2025"
  }
}
```

#### Duplicate Entry (400)

```json
{
  "success": false,
  "message": "Duplicate value for email. This value already exists.",
  "statusCode": 400,
  "error": {
    "code": "P2002",
    "field": ["email"]
  }
}
```

#### Server Error (500)

```json
{
  "success": false,
  "message": "Internal server error",
  "statusCode": 500
}
```

---

## ЁЯЪА Development Workflow (ржзрж╛ржкрзЗ ржзрж╛ржкрзЗ ржХрж╛ржЬрзЗрж░ ржкрзНрж░рж╕рзЗрж╕)

### **Phase 1: ржкрзНрж░ржЬрзЗржХрзНржЯ рж╕рзЗржЯржЖржк (рзз-рзи ржжрж┐ржи)**

#### Step 1: ржкрзНрж░ржЬрзЗржХрзНржЯ ржЗржирж┐рж╢рж┐ржпрж╝рж╛рж▓рж╛ржЗржЬ ржХрж░рж╛

```bash
# Backend ржлрзЛрж▓рзНржбрж╛рж░рзЗ ржпрж╛ржУ
cd Backend

# Dependencies ржЗржирж╕рзНржЯрж▓ ржХрж░рж╛ (ржпржжрж┐ ржирж╛ ржХрж░рж╛ ржерж╛ржХрзЗ)
npm install

# Environment variables рж╕рзЗржЯржЖржк
# .env ржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░рзЛ ржПржмржВ ржПржЧрзБрж▓рзЛ ржпрзЛржЧ ржХрж░рзЛ:
DATABASE_URL="postgresql://user:password@localhost:5432/amarshikkhok"
JWT_SECRET="your_super_secret_key_here"
JWT_EXPIRES_IN="7d"
PORT=5000
NODE_ENV="development"
```

#### Step 2: Prisma рж╕рзЗржЯржЖржк

```bash
# Prisma schema рждрзИрж░рж┐ ржХрж░рзЛ (ржЙржкрж░рзЗрж░ schema ржХржкрж┐ ржХрж░рзЛ)
# prisma/schema.prisma ржлрж╛ржЗрж▓рзЗ

# Database migrate ржХрж░рзЛ
npx prisma migrate dev --name init

# Prisma Client generate ржХрж░рзЛ
npx prisma generate

# Prisma Studio ржжрж┐ржпрж╝рзЗ database ржжрзЗржЦрзЛ
npx prisma studio
```

#### Step 3: Seed Data рждрзИрж░рж┐ ржХрж░рзЛ

```bash
# prisma/seed.ts ржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░рзЛ
# Admin user ржПржмржВ ржХрж┐ржЫрзБ categories ржпрзЛржЧ ржХрж░рзЛ

# Seed run ржХрж░рзЛ
npx prisma db seed
```

---

### **Phase 2: Authentication System (рзи-рзй ржжрж┐ржи)**

#### Step 1: Utils рждрзИрж░рж┐ ржХрж░рзЛ

1. `src/utils/bcrypt.ts` - Password hashing
2. `src/utils/jwt.ts` - Token generation/verification
3. `src/utils/response.ts` - Standard response format
4. `src/utils/asyncHandler.ts` - Error handling wrapper

#### Step 2: Auth Module рждрзИрж░рж┐ ржХрж░рзЛ

1. `src/modules/auth/auth.interface.ts` - Types define ржХрж░рзЛ
2. `src/modules/auth/auth.validation.ts` - Zod validation schema
3. `src/modules/auth/auth.service.ts` - Business logic (register, login)
4. `src/modules/auth/auth.controller.ts` - Request handlers
5. `src/modules/auth/auth.route.ts` - Routes define ржХрж░рзЛ

#### Step 3: Middleware рждрзИрж░рж┐ ржХрж░рзЛ

1. `src/middlewares/auth.middleware.ts` - JWT verify ржХрж░рзЛ
2. `src/middlewares/role.middleware.ts` - Role check ржХрж░рзЛ
3. `src/middlewares/error.middleware.ts` - Global error handler

#### Step 4: Test ржХрж░рзЛ

- Postman/Thunder Client ржжрж┐ржпрж╝рзЗ register/login test ржХрж░рзЛ
- Token verify рж╣ржЪрзНржЫрзЗ ржХрж┐ржирж╛ check ржХрж░рзЛ

---

### **Phase 3: User & Tutor Module (рзй-рзк ржжрж┐ржи)**

#### Step 1: User Module

1. User profile ржжрзЗржЦрж╛
2. User profile ржЖржкржбрзЗржЯ ржХрж░рж╛
3. Password change ржХрж░рж╛

#### Step 2: Tutor Module

1. Tutor profile рждрзИрж░рж┐ ржХрж░рж╛
2. Tutor profile ржЖржкржбрзЗржЯ ржХрж░рж╛
3. Availability рж╕рзЗржЯ ржХрж░рж╛
4. Public tutor list API
5. Single tutor details API
6. Search & Filter implement ржХрж░рзЛ

#### Step 3: Category Module

1. Category CRUD operations (Admin only)
2. Public category list

---

### **Phase 4: Booking System (рзй-рзк ржжрж┐ржи)**

#### Step 1: Booking Module рждрзИрж░рж┐ ржХрж░рзЛ

1. Create booking (Student only)
2. Get user bookings (Student/Tutor)
3. Complete booking (Tutor only)
4. Cancel booking (Student only)

#### Step 2: Validation ржпрзЛржЧ ржХрж░рзЛ

- Session date ржнржмрж┐рж╖рзНржпрждрзЗ ржЖржЫрзЗ ржХрж┐ржирж╛
- Tutor available ржЖржЫрзЗ ржХрж┐ржирж╛ рж╕рзЗржЗ рж╕ржоржпрж╝рзЗ
- Duplicate booking ржирзЗржЗ ржХрж┐ржирж╛

#### Step 3: Price Calculation

- Tutor ржПрж░ hourly rate ржЕржирзБржпрж╛ржпрж╝рзА total price calculate ржХрж░рзЛ

---

### **Phase 5: Review System (рзи ржжрж┐ржи)**

#### Step 1: Review Module

1. Create review (рж╢рзБржзрзБ completed booking ржПрж░ ржЬржирзНржп)
2. Get tutor reviews
3. Prevent duplicate review

#### Step 2: Rating Update

- Review ржжрзЗржУржпрж╝рж╛рж░ ржкрж░ tutor ржПрж░ average rating ржЖржкржбрзЗржЯ ржХрж░рзЛ
- Total reviews count ржмрж╛ржбрж╝рж╛ржУ

---

### **Phase 6: Admin Panel (рзи-рзй ржжрж┐ржи)**

#### Step 1: User Management

1. Get all users (with filters)
2. Ban/Unban users
3. View user details

#### Step 2: Booking Management

1. View all bookings
2. View booking statistics

#### Step 3: Dashboard Stats

1. Total users, students, tutors
2. Total bookings
3. Revenue calculation

---

### **Phase 7: Testing & Refinement (рзи-рзй ржжрж┐ржи)**

#### Step 1: API Testing

- рж╕ржм endpoints Postman ржжрж┐ржпрж╝рзЗ test ржХрж░рзЛ
- Edge cases test ржХрж░рзЛ
- Error handling check ржХрж░рзЛ

#### Step 2: Security Check

- JWT properly working
- Role-based access control
- Password hashing
- SQL injection prevention (Prisma automatically ржХрж░рзЗ)

#### Step 3: Code Cleanup

- Unused code remove ржХрж░рзЛ
- Comments ржпрзЛржЧ ржХрж░рзЛ
- Code formatting ржХрж░рзЛ

---

## ЁЯФТ Security Best Practices

1. **Password Hashing:** bcrypt ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЛ (salt rounds: 10)
2. **JWT Secret:** Strong secret key ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЛ
3. **Environment Variables:** Sensitive data .env рждрзЗ рж░рж╛ржЦрзЛ
4. **Validation:** рж╕ржм input validate ржХрж░рзЛ (Zod ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЛ)
5. **Error Messages:** Sensitive information expose ржХрж░рзЛ ржирж╛
6. **Rate Limiting:** (Optional) Too many requests prevent ржХрж░рзЛ

---

## ЁЯУЭ Coding Standards

### **File Naming:**

- `kebab-case.ts` for files
- `PascalCase` for interfaces/types
- `camelCase` for functions/variables

### **Code Structure:**

```typescript
// 1. Imports
import { Request, Response } from "express";

// 2. Interfaces/Types
interface LoginData {
  email: string;
  password: string;
}

// 3. Main function
export const login = async (req: Request, res: Response) => {
  // Logic here
};
```

### **Error Handling:**

```typescript
try {
  // Your code
} catch (error) {
  throw new Error("Meaningful error message");
}
```

### **Response Format:**

```typescript
// Success
res.status(200).json({
  success: true,
  message: "Operation successful",
  data: result,
});

// Error
res.status(400).json({
  success: false,
  message: "Error message",
  error: errorDetails,
});
```

---

## ЁЯзк Testing Checklist

### **Authentication:**

- [ ] Register ржХрж░рж╛ ржпрж╛ржЪрзНржЫрзЗ ржХрж┐ржирж╛
- [ ] Login ржХрж░рж╛ ржпрж╛ржЪрзНржЫрзЗ ржХрж┐ржирж╛
- [ ] Token generate рж╣ржЪрзНржЫрзЗ ржХрж┐ржирж╛
- [ ] Invalid credentials reject рж╣ржЪрзНржЫрзЗ ржХрж┐ржирж╛
- [ ] Duplicate email prevent рж╣ржЪрзНржЫрзЗ ржХрж┐ржирж╛

### **Authorization:**

- [ ] Student рж╢рзБржзрзБ student routes access ржХрж░рждрзЗ ржкрж╛рж░ржЫрзЗ
- [ ] Tutor рж╢рзБржзрзБ tutor routes access ржХрж░рждрзЗ ржкрж╛рж░ржЫрзЗ
- [ ] Admin рж╕ржм routes access ржХрж░рждрзЗ ржкрж╛рж░ржЫрзЗ
- [ ] Unauthorized access block рж╣ржЪрзНржЫрзЗ

### **Tutor Module:**

- [ ] Tutor list ржкрж╛ржУржпрж╝рж╛ ржпрж╛ржЪрзНржЫрзЗ
- [ ] Filter/Search ржХрж╛ржЬ ржХрж░ржЫрзЗ
- [ ] Tutor profile create/update рж╣ржЪрзНржЫрзЗ
- [ ] Availability рж╕рзЗржЯ ржХрж░рж╛ ржпрж╛ржЪрзНржЫрзЗ

### **Booking Module:**

- [ ] Booking рждрзИрж░рж┐ рж╣ржЪрзНржЫрзЗ
- [ ] Price correctly calculate рж╣ржЪрзНржЫрзЗ
- [ ] Status update рж╣ржЪрзНржЫрзЗ
- [ ] Duplicate booking prevent рж╣ржЪрзНржЫрзЗ

### **Review Module:**

- [ ] Review ржжрзЗржУржпрж╝рж╛ ржпрж╛ржЪрзНржЫрзЗ
- [ ] Rating update рж╣ржЪрзНржЫрзЗ
- [ ] Duplicate review prevent рж╣ржЪрзНржЫрзЗ

---

## ЁЯОп Important Notes

### **ржпржЦржи рждрзБржорж┐ ржХрзЛржб ржХрж░ржмрзЗ:**

1. ржПржХржЯрж╛ module рж╢рзЗрж╖ ржХрж░рзЗ рждрж╛рж░ржкрж░ ржЕржирзНржпржЯрж╛ рж╢рзБрж░рзБ ржХрж░рзЛ
2. ржкрзНрж░рждрж┐ржЯрж╛ API test ржХрж░рзЗ ржирж╛ржУ рждрзИрж░рж┐ ржХрж░рж╛рж░ ржкрж░
3. Git commit ржХрж░рзЛ ржкрзНрж░рждрж┐ржЯрж╛ feature рж╢рзЗрж╖рзЗ
4. Error handling ржнрзБрж▓рзЗ ржпрзЗржУ ржирж╛
5. Validation рж╕ржм ржЬрж╛ржпрж╝ржЧрж╛ржпрж╝ ржХрж░рзЛ

### **ржпржжрж┐ ржЖржЯржХрзЗ ржпрж╛ржУ:**

1. Error message ржнрж╛рж▓рзЛ ржХрж░рзЗ ржкржбрж╝рзЛ
2. Prisma schema check ржХрж░рзЛ
3. Database рждрзЗ data ржЖржЫрзЗ ржХрж┐ржирж╛ ржжрзЗржЦрзЛ (Prisma Studio)
4. Console.log ржХрж░рзЗ debug ржХрж░рзЛ
5. ржЖржорж╛ржХрзЗ ржЬрж┐ржЬрзНржЮрзЗрж╕ ржХрж░рзЛ specific error рж╕рж╣

### **Common Mistakes ржПржбрж╝рж╛ржУ:**

- тЭМ Password plain text save ржХрж░рж╛
- тЭМ JWT secret hard-code ржХрж░рж╛
- тЭМ Validation skip ржХрж░рж╛
- тЭМ Error handling ржирж╛ ржХрж░рж╛
- тЭМ Relations ржнрзБрж▓ define ржХрж░рж╛

---

## ЁЯУЪ Useful Commands

```bash
# Development server ржЪрж╛рж▓рзБ ржХрж░рзЛ
npm run dev

# Prisma Studio ржЦрзЛрж▓рзЛ
npm run studio

# Database reset ржХрж░рзЛ (рж╕рж╛ржмржзрж╛ржи!)
npx prisma migrate reset

# New migration рждрзИрж░рж┐ ржХрж░рзЛ
npx prisma migrate dev --name migration_name

# Production build
npm run build

# Production server ржЪрж╛рж▓рзБ ржХрж░рзЛ
npm start
```

---

## ЁЯОУ Learning Resources

ржпржжрж┐ ржХрзЛржирзЛ concept ржмрзБржЭрждрзЗ рж╕ржорж╕рзНржпрж╛ рж╣ржпрж╝:

- **Prisma Docs:** https://www.prisma.io/docs
- **Express.js:** https://expressjs.com
- **JWT:** https://jwt.io
- **Zod Validation:** https://zod.dev

---

## тЬЕ Final Checklist (Submit ржХрж░рж╛рж░ ржЖржЧрзЗ)

- [ ] рж╕ржм API endpoints ржХрж╛ржЬ ржХрж░ржЫрзЗ
- [ ] Authentication/Authorization properly implement ржХрж░рж╛
- [ ] Database relations рж╕ржарж┐ржХ
- [ ] Error handling рж╕ржм ржЬрж╛ржпрж╝ржЧрж╛ржпрж╝ ржЖржЫрзЗ
- [ ] Code clean ржПржмржВ organized
- [ ] README.md ржЖржкржбрзЗржЯ ржХрж░рж╛
- [ ] .env.example ржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░рж╛
- [ ] Git ржП рж╕ржм commit ржХрж░рж╛
- [ ] Postman collection рждрзИрж░рж┐ ржХрж░рж╛ (optional but helpful)

---

**рж╢рзБржнржХрж╛ржоржирж╛! рждрзБржорж┐ ржкрж╛рж░ржмрзЗ! ЁЯЪА**

ржпрзЗржХрзЛржирзЛ рж╕ржорж╕рзНржпрж╛ рж╣рж▓рзЗ ржЖржорж╛ржХрзЗ ржЬрж╛ржирж╛ржУред ржЖржорж┐ рждрзЛржорж╛ржХрзЗ guide ржХрж░ржмрзЛред
